---
layout: post
title: jQuery
categories: Web
description: jQuery
keywords: jQuery, Web
---

## javaScript

**前端三大块**

* HTML：页面结构
* CSS：页面表现：元素大小、颜色、位置、隐藏或显示、部分动画效果
* JavaScript：页面行为：部分动画效果、页面与用户的交互、页面功能

**嵌入页面的方式**

* 行间事件（主要用于事件）
  * <input type="button" name="" onclick="alert('ok！');">

* 页面script标签嵌入

```
<script type="text/javascript">        
    alert('ok！');
</script>
```

* 外部引入

  * <script type="text/javascript" src="js/index.js"></script>

---

**变量与函数****预解析：**

* 先是编译阶段，然后执行阶段
* 译阶段会将function定义的函数提前，并且将var定义的变量声明提前，将它赋值为undefined

**获取元素的方法：**

* 内置对象
  * 返回值html对象

* 如果id的对象还未创建：
  * 将javascript放到页面最下边
  * 将javascript语句放到window.onload触发的函数里面
    * 获取元素的语句会在页面加载完后才执行，就不会出错了

```
<script type="text/javascript">
    window.onload = function(){
        var oDiv = document.getElementById('div1');
    }
</script>
```

**操作元素：**

* 获取与设置属性
  * var 变量 = 元素.属性名 读取属性
  * 元素.属性名 = 新属性值 改写属性
  * 事件属性：oBtn.onclick = functionName()
    * 有鼠标点击事件属性(onclick)
    * 鼠标移入事件属性(onmouseover)
    * 鼠标移出事件属性(onmouseout)

  * 属性名写法
    * html的属性和js里面属性写法一样
    * “class” 属性写成 “className”
    * “style” 属性里面的属性，有横杠的改成驼峰式，比如：“font-size”，改成”style.fontSize”

* 修改标签包裹的内容
  * innerHTML可以读取或者写入
  * var oDiv = document.getElementById('div1');  var sTxt = oDiv.innerHTML;

---

调试js程序：

* 输出变量和对象的方法

* alert()
  * console.log()

* 断点调试
  * 通过chrome浏览器调试工具的sources窗口，可以对外链的js文件进行断点调试

---

定时器：

* setTimeout  只执行一次的定时器
* clearTimeout 关闭只执行一次的定时器
* setInterval  反复执行的定时器
* clearInterval 关闭反复执行的定时器

------

## jQuery

jQuery是目前使用最广泛的javascript函数库，一个js文件

* 引入：<script type="text/javascript" src="js/jquery-1.12.2.js"></script>
* 1.x系列兼容低版本的浏览器，目前使用最多的是1.x系列的
* 2.x、3.x系列放弃支持低版本浏览器
* 网站：
  * http://jquery.com/ 官方网站
  * https://code.jquery.com/ 版本下载

---

加载完再执行

* ready方法，比原生的 window.onload
  * $(document).ready(function(){ })
  * $(function(){})

---

**选择器**：选择某个网页元素，然后对它进行某种操作

* $就是jquery对象
* $btn：定义变量名
* $.：就是调用函数jquery.
* $()就是jQuery()，在里面可以传参数，作用就是获取元素
  * $('#box')：id是box的标签
  * $('.myClass') // 选择class为myClass的元素
  * $('li') //选择所有的li元素
  * $('input[name=first]') // 选择name属性等于first的input元素

**样式操作：**同一个函数完成取值和赋值

* 获取：$("div").css("width");
* 设置：$("div").css("width","30px");
* 选择器一个标签获取的多个元素，获取的是第一个

---

**绑定click事件：**

* $('#btn1').click(function(){})
* 任何元素都可以绑定点击事件

---

**动画：**

* animate参数：
  * 参数一：要改变的样式属性值，写成字典的形式
  * 参数二：动画持续的时间，单位为毫秒，一般不写单位
  * 参数三：动画曲线，默认为‘swing’，缓冲运动，还可以设置为‘linear’，匀速运动
  * 参数四：动画回调函数，动画完成后执行的匿名函数

**特殊效果：**

* fadeOut() 淡出
* fadeToggle() 切换淡入淡出
* hide() 隐藏元素
* show() 显示元素
* toggle() 切换元素的可见状态
* slideDown() 向下展开
* slideUp() 向上卷起
* slideToggle() 依次展开或卷起某个元素

---

**链式调用**

* jquery对象的方法会在执行完后返回这个jquery对象，所有jquery对象的方法可以连起来写

---

**属性操作**

* html() 取出或设置html内容
  * var $htm = $('#div1').html()
  * 设置html内容 $('#div1').html('<span>添加文字</span>');

* prop() 取出或设置某个属性的值
  * 取出图片的地址：var $src = $('#img1').prop('src');
  * 设置图片的地址和alt属性：$('#img1').prop({src: "test.jpg", alt: "Test Image" });

---

**事件：**

* blur() 元素失去焦点
* focus() 元素获得焦点
* change() 当表单元素的值发生改变时
* click() 鼠标单击
* mouseover() 鼠标进入（进入子元素也触发）
* mouseout() 鼠标离开（离开子元素也触发）
* mouseenter() 鼠标进入（进入子元素不触发）
* mouseleave() 鼠标离开（离开子元素不触发）
* ready() DOM加载完成
* submit() 用户递交表单

---

**表单验证**

* 正则匹配

---

**事件冒泡：**

* 在一个对象上触发某类事件（比如单击onclick事件），如果此对象定义了此事件的处理程序，那么此事件就会调用这个处理程序，如果没有定义此事件处理程序或者事件返回true，那么这个事件会向这个对象的父级对象传播，从里到外，直至它被处理（父级对象所有同类事件都将被激活），或者它到达了对象层次的最顶层，即document对象（有些浏览器是window）

**事件委托**

* 事件委托就是利用冒泡的原理，把事件加到父级上，通过判断事件来源的子集，执行相应的操作，事件委托首先可以极大减少事件绑定次数，提高性能；其次可以让新加入的子元素也可以拥有相同的操作

**Dom操作**

* Dom操作也叫做元素节点操作，它指的是改变html的标签结构，它有两种情况：
  * 移动现有标签的位置
  * 将新创建的标签插入到现有的标签中

---

**javascript对象**

* 通过顶级Object类来实例化一个对象
  * var person = new Object();

* 通过对象直接量的方式创建对象

---

**Ajax:**

* ajax一个前后台配合的技术，它可以让javascript发送http请求，与后台通信，获取数据和信息
* ajax技术的原理是实例化xmlhttp对象，使用此对象与后台通信
* jquery将它封装成了一个函数$.ajax()，我们可以直接用这个函数来执行ajax请求
* 参数：
  * url 请求地址
  * type 请求方式，默认是'get'，常用的还有'post'
  * dataType 设置返回的数据格式，常用的是'json'格式，也可以设置为'text'
  * data 设置发送给服务器的数据
  * success 设置请求成功后的回调函数
  * error 设置请求失败后的回调函数
  * async 设置是否异步，默认值是'true'，表示异步